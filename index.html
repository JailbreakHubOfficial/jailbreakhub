<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jailbreak Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #1a1a1a;
            color: #ffffff;
            font-family: 'Inter', sans-serif;
            /* Disable text selection */
            user-select: none;
            -webkit-user-select: none; /* For Safari */
            -moz-user-select: none;    /* For Firefox */
            -ms-user-select: none;     /* For IE/Edge */
        }
        .accent-color {
            color: #00ff99;
        }
        .bg-accent-color {
            background-color: #00ff99;
        }
        .border-accent-color {
            border-color: #00ff99;
        }
        .nav-link {
            position: relative;
            transition: color 0.3s ease;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #00ff99;
            transition: width 0.3s ease;
        }
        .nav-link.active,
        .nav-link:hover {
            color: #00ff99;
        }
        .nav-link.active::after,
        .nav-link:hover::after {
            width: 100%;
        }
        .page {
            display: none;
        }
        .page.active {
            display: block;
        }
        .news-card {
            background-color: #2a2a2a;
            border: 1px solid #3a3a3a;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .news-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 255, 153, 0.1);
        }
        .status-table th {
            background-color: #2a2a2a;
        }
        .status-table td {
            background-color: #222222;
        }
        .status-supported {
            color: #00ff99;
            font-weight: 600;
        }
        .status-in-progress {
            color: #ffcc00;
            font-weight: 600;
        }
        .status-not-supported {
            color: #ff3b30;
            font-weight: 600;
        }
        /* Style for responsive YouTube embeds */
        .aspect-ratio-16-9 {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            height: 0;
            overflow: hidden;
        }
        .aspect-ratio-16-9 iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header and Navigation -->
    <header class="sticky top-0 z-50 bg-opacity-80 backdrop-blur-md border-b border-gray-700">
        <div class="container mx-auto px-4">
            <nav class="flex justify-between items-center py-4">
                <a href="#home" class="text-2xl font-bold tracking-wider page-link">JB<span class="accent-color">HUB</span></a>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#home" class="nav-link page-link active">Home</a>
                    <a href="#news" class="nav-link page-link">News</a>
                    <a href="#guides" class="nav-link page-link">Guides</a>
                    <a href="#status" class="nav-link page-link">Status</a>
                    <a href="#links" class="nav-link page-link">Links</a>
                </div>
                <button id="mobile-menu-button" class="md:hidden text-white focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </nav>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden px-4 pt-2 pb-4 space-y-2">
            <a href="#home" class="block nav-link page-link active">Home</a>
            <a href="#news" class="block nav-link page-link">News</a>
            <a href="#guides" class="block nav-link page-link">Guides</a>
            <a href="#status" class="block nav-link page-link">Status</a>
            <a href="#links" class="block nav-link page-link">Links</a>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 md:py-12">

        <!-- Home Page -->
        <section id="home" class="page active">
            <div class="text-center py-16 md:py-24">
                <h1 class="text-4xl md:text-6xl font-bold tracking-tight mb-4">Anticipating the Next Jailbreak</h1>
                <p class="text-lg md:text-xl text-gray-300 max-w-3xl mx-auto">News, Guides, and Community Updates.</p>
            </div>

            <div class="border-t border-gray-700 pt-12">
                <h2 class="text-3xl font-bold text-center mb-8">Latest News</h2>
                <!-- News cards will be dynamically inserted here -->
                <div id="latest-news-container" class="grid md:grid-cols-3 gap-8">
                    <p class="text-center col-span-3 text-gray-400">Loading news...</p>
                </div>
            </div>
        </section>

        <!-- News Page -->
        <section id="news" class="page">
            <h1 class="text-4xl font-bold mb-8 text-center">News Archive</h1>
            <!-- Full news articles will be dynamically inserted here -->
            <div id="news-archive-container" class="space-y-12 max-w-4xl mx-auto">
                 <p class="text-center text-gray-400">Loading news...</p>
            </div>
        </section>

        <!-- Guides Page -->
        <section id="guides" class="page">
            <h1 class="text-4xl font-bold mb-8 text-center">Video Guides & Tutorials</h1>
            <div class="grid md:grid-cols-2 gap-8">
                <!-- Guide 1 -->
                <div class="news-card rounded-lg overflow-hidden">
                    <div class="aspect-ratio-16-9">
                        <iframe src="https://www.youtube.com/embed/enZeo4qXzN8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-3">Guide 1: Preparing Your Device for Jailbreaking</h3>
                        <p class="text-gray-300">This essential guide covers the first steps you must take before any jailbreak attempt, including backing up your data and checking compatibility.</p>
                    </div>
                </div>
                <!-- Guide 2 -->
                <div class="news-card rounded-lg overflow-hidden">
                    <div class="aspect-ratio-16-9">
                        <iframe src="https://www.youtube.com/embed/K72ptMpp2ck" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-3">Guide 2: How to Use the Palera1n Tool</h3>
                        <ul class="list-disc list-inside text-gray-300 space-y-1">
                            <li>Entering DFU mode.</li>
                            <li>Connecting to your computer.</li>
                            <li>Running the Palera1n script.</li>
                            <li>Finalizing setup on your device.</li>
                        </ul>
                    </div>
                </div>
                <!-- Guide 3 -->
                <div class="news-card rounded-lg overflow-hidden">
                    <div class="aspect-ratio-16-9">
                        <iframe src="https://www.youtube.com/embed/7FbgibSUdb0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-3">Guide 3: Installing Tweaks with Sileo</h3>
                        <p class="text-gray-300">Learn how to browse repositories, add new sources, and safely install tweaks using the modern Sileo package manager.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Status Page -->
        <section id="status" class="page">
            <h1 class="text-4xl font-bold mb-8 text-center">Jailbreak Status</h1>
            <div class="overflow-x-auto">
                <table class="min-w-full text-left text-sm whitespace-nowrap status-table rounded-lg overflow-hidden">
                    <thead class="font-semibold text-white uppercase tracking-wider">
                        <tr>
                            <th class="p-4">Device</th>
                            <th class="p-4">iOS Version</th>
                            <th class="p-4 text-right">Jailbreak Status</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-700">
                        <tr><td colspan="3" class="p-2 bg-gray-900 font-bold text-gray-300">iOS 18</td></tr>
                        <tr>
                            <td class="p-4 font-medium">iPhone 16 Pro</td>
                            <td class="p-4">18.0</td>
                            <td class="p-4 text-right status-in-progress">In Progress (CoreTrust Exploit)</td>
                        </tr>
                        <tr><td colspan="3" class="p-2 bg-gray-900 font-bold text-gray-300">iOS 17</td></tr>
                        <tr>
                            <td class="p-4 font-medium">iPhone 15 Pro</td>
                            <td class="p-4">17.0 - 17.4.1</td>
                            <td class="p-4 text-right status-not-supported">Not Supported</td>
                        </tr>
                        <tr>
                            <td class="p-4 font-medium">iPhone X (A11)</td>
                            <td class="p-4">17.0 - 17.5</td>
                            <td class="p-4 text-right status-supported">Supported (Palera1n)</td>
                        </tr>
                         <tr>
                            <td class="p-4 font-medium">iPhone 8 (A11)</td>
                            <td class="p-4">17.0 - 17.5</td>
                            <td class="p-4 text-right status-supported">Supported (Palera1n)</td>
                        </tr>
                        <tr><td colspan="3" class="p-2 bg-gray-900 font-bold text-gray-300">iOS 16</td></tr>
                        <tr>
                            <td class="p-4 font-medium">iPhone 14 (A15)</td>
                            <td class="p-4">16.0 - 16.5</td>
                            <td class="p-4 text-right status-supported">Supported (Dopamine)</td>
                        </tr>
                         <tr>
                            <td class="p-4 font-medium">iPhone 13 (A15)</td>
                            <td class="p-4">16.0 - 16.5.1</td>
                            <td class="p-4 text-right status-supported">Supported (Dopamine)</td>
                        </tr>
                         <tr>
                            <td class="p-4 font-medium">iPhone 12 (A14)</td>
                            <td class="p-4">16.0 - 16.6.1</td>
                            <td class="p-4 text-right status-supported">Supported (Dopamine)</td>
                        </tr>
                        <tr><td colspan="3" class="p-2 bg-gray-900 font-bold text-gray-300">iOS 15</td></tr>
                         <tr>
                            <td class="p-4 font-medium">All Devices</td>
                            <td class="p-4">15.0 - 15.8.2</td>
                            <td class="p-4 text-right status-supported">Supported (Multiple Tools)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Links Page -->
        <section id="links" class="page">
            <h1 class="text-4xl font-bold mb-8 text-center">Community Links</h1>
            <div class="max-w-md mx-auto grid grid-cols-1 sm:grid-cols-3 gap-8 text-center">
                <!-- Discord -->
                <a href="https://discord.com/channels/349243932447604736/688121419980341282" target="_blank" rel="noopener noreferrer" class="group">
                    <div class="bg-gray-800/50 p-8 rounded-lg group-hover:bg-accent-color transition-colors duration-300">
                        <svg class="w-16 h-16 mx-auto text-accent-color group-hover:text-black transition-colors duration-300" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="discord-title">
                            <title id="discord-title">Discord</title>
                            <path d="M20.317 4.3698a19.7913 19.7913 0 0 0-4.8851-1.5152.0741.0741 0 0 0-.0785.0371c-.211.3753-.4464.8257-.618 1.2525a17.7363 17.7363 0 0 0-4.9885 0 18.3576 18.3576 0 0 0-.618-1.2525.077.077 0 0 0-.0785-.0371A19.7913 19.7913 0 0 0 3.683 4.3698a.077.077 0 0 0-.0371.0785c.1784.9615.4988 2.3268.745 3.518.0186.0932.0186.1864-.0186.2796-1.5372 1.8112-2.2944 3.349-2.2944 3.349s.4673.7449.9759 1.2525c.8122.8121 1.8453 1.4495 2.801 1.8317.0932.0371.1864.0557.2796.0186a12.601 12.601 0 0 0 2.0999-1.2154.077.077 0 0 0 .0186-.1119c-.0371-.0557-.0741-.1119-.1119-.1674a10.0204 10.0204 0 0 1-.4295-.6537.077.077 0 0 1 .0186-.1119c.1295-.0932.259-.1864.3885-.2796a10.233 10.233 0 0 0 5.4322 0c.1295.0932.259.1864.3885.2796a.077.077 0 0 1 .0186.1119 10.0204 10.0204 0 0 1-.4295.6537.077.077 0 0 0 .0186.1119c-.0371.0557-.0741.1119-.1119.1674a.077.077 0 0 0 .0186.1119 12.601 12.601 0 0 0 2.0999 1.2154.077.077 0 0 0 .2796-.0186c.9556-.3822 1.9887-1.0196 2.801-1.8317.5086-.5076.9759-1.2525.9759-1.2525s-.7572-1.5379-2.2944-3.349a.215.215 0 0 0-.0186-.2796c.2462-1.1912.5666-2.5565.745-3.518a.077.077 0 0 0-.0371-.0785Z"/>
                        </svg>
                    </div>
                    <p class="mt-4 font-semibold text-lg">Discord</p>
                </a>
                <!-- Reddit -->
                <a href="https://www.reddit.com/r/jailbreak/" target="_blank" rel="noopener noreferrer" class="group">
                    <div class="bg-gray-800/50 p-8 rounded-lg group-hover:bg-accent-color transition-colors duration-300">
                        <svg class="w-16 h-16 mx-auto text-accent-color group-hover:text-black transition-colors duration-300" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="reddit-title">
                            <title id="reddit-title">Reddit</title>
                            <path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 12.19c0 .5-.41.91-.91.91h-2.38c0 .83-.68 1.5-1.5 1.5s-1.5-.67-1.5-1.5H8.3c-.5 0-.91-.41-.91-.91v-1.5c0-.5.41-.91.91-.91h2.38c0-.83-.68-1.5 1.5-1.5s1.5.67 1.5 1.5h2.38c.5 0 .91.41.91.91v1.5zm-3.08-3.46c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-4.43 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2.21 6.57c1.93 0 3.5-1.57 3.5-3.5H6.7c0 1.93 1.57 3.5 3.5 3.5z"/>
                        </svg>
                    </div>
                    <p class="mt-4 font-semibold text-lg">Reddit</p>
                </a>
                <!-- Twitter/X -->
                <a href="https://x.com/Jailbreak" target="_blank" rel="noopener noreferrer" class="group">
                    <div class="bg-gray-800/50 p-8 rounded-lg group-hover:bg-accent-color transition-colors duration-300">
                        <svg class="w-16 h-16 mx-auto text-accent-color group-hover:text-black transition-colors duration-300" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="twitter-title">
                           <title id="twitter-title">X (Twitter)</title>
                           <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                        </svg>
                    </div>
                    <p class="mt-4 font-semibold text-lg">X (Twitter)</p>
                </a>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="border-t border-gray-700 mt-12">
        <div class="container mx-auto px-4 py-6 text-center text-gray-400">
            <p>&copy; 2025 Jailbreak Hub. All rights reserved.</p>
            <p class="text-xs mt-2">This site is for informational purposes only. Jailbreaking can void your warranty and carries inherent risks.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- State Variable ---
            let currentNewsDataString = ''; // Holds a string copy of the current news data to check for changes.

            // --- Page Elements ---
            const navLinks = document.querySelectorAll('.nav-link');
            const pages = document.querySelectorAll('.page');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const latestNewsContainer = document.getElementById('latest-news-container');
            const newsArchiveContainer = document.getElementById('news-archive-container');

            // --- News Rendering Functions ---
            function renderNews(newsData) {
                // Clear existing content
                latestNewsContainer.innerHTML = '';
                newsArchiveContainer.innerHTML = '';

                // Populate Latest News on Homepage (first 3 articles)
                const latestArticles = newsData.slice(0, 3);
                latestArticles.forEach(article => {
                    const articleHtml = `
                        <div class="news-card rounded-lg overflow-hidden">
                            <div class="p-6">
                                <p class="text-sm text-gray-400 mb-2">${article.date}</p>
                                <h3 class="text-xl font-bold mb-3">${article.title}</h3>
                                <p class="text-gray-300 mb-4">${article.summary}</p>
                                <a href="#news" class="font-semibold accent-color page-link">Read More &rarr;</a>
                            </div>
                        </div>
                    `;
                    latestNewsContainer.innerHTML += articleHtml;
                });

                // Populate Full News Archive on News Page
                newsData.forEach(article => {
                    const articleHtml = `
                        <article>
                            <p class="text-sm text-gray-400 mb-2">${article.date}</p>
                            <h2 class="text-3xl font-bold mb-3 accent-color">${article.title}</h2>
                            <p class="text-gray-300 leading-relaxed">${article.content}</p>
                        </article>
                    `;
                    newsArchiveContainer.innerHTML += articleHtml;
                });
            }

            // --- Page Navigation Logic ---
            const showPage = (pageId) => {
                pages.forEach(page => page.classList.remove('active'));
                const targetPage = document.getElementById(pageId);
                if (targetPage) {
                    targetPage.classList.add('active');
                    window.scrollTo(0, 0);
                }
                navLinks.forEach(link => {
                    const isPageLink = link.classList.contains('page-link');
                    if (isPageLink && link.getAttribute('href') === `#${pageId}`) {
                         link.classList.add('active');
                    } else if (isPageLink) {
                         link.classList.remove('active');
                    }
                });
                mobileMenu.classList.add('hidden');
            };
            
            // --- Mobile Menu Toggle ---
            mobileMenuButton.addEventListener('click', function() {
                mobileMenu.classList.toggle('hidden');
            });

            // --- Data Loading and Polling ---
            async function checkForNewsUpdates() {
                try {
                    // Fetch the external JSON file. Add a cache-busting parameter to prevent the browser from serving an old version.
                    const response = await fetch(`news.json?v=${new Date().getTime()}`);
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    const newsData = await response.json();
                    const newNewsDataString = JSON.stringify(newsData);

                    // Only re-render the page if the data has actually changed.
                    if (newNewsDataString !== currentNewsDataString) {
                        console.log('News update found! Rendering new content.');
                        currentNewsDataString = newNewsDataString; // Update our state
                        renderNews(newsData);
                    } else {
                         console.log('No new news. Checked at ' + new Date().toLocaleTimeString());
                    }

                } catch (error) {
                    console.error("Could not fetch or render news data:", error);
                    latestNewsContainer.innerHTML = `<p class="text-red-500 text-center col-span-3">Failed to load news articles.</p>`;
                    newsArchiveContainer.innerHTML = `<p class="text-red-500 text-center">Failed to load news archive.</p>`;
                }
            }

            // --- Event Delegation for Navigation ---
            document.body.addEventListener('click', function(e) {
                // Find the closest ancestor link that is a .page-link
                const link = e.target.closest('a.page-link');

                // If a page-link was clicked
                if (link) {
                    e.preventDefault(); // Prevent the default link behavior
                    const targetPageId = link.getAttribute('href').substring(1);
                    if (targetPageId) {
                        showPage(targetPageId);
                    }
                }
            });

            // --- Initial Load ---
            checkForNewsUpdates(); // Load news immediately on page load
            const initialPage = window.location.hash.substring(1) || 'home';
            showPage(initialPage);

            // --- Set up Polling ---
            // Check for new articles every 10 seconds (10000 milliseconds)
            setInterval(checkForNewsUpdates, 10000);
        });
    </script>

</body>
</html>
